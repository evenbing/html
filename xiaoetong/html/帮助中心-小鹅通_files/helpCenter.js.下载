$(function(){pageIndex.init();problem.init();$(document).keypress(function(t){if(t.which==13){$(".searchBtn").trigger("click")}})});var pageIndex=function(){var t={};t.init=function(){$(".wxIcon").mouseenter(function(){$(".wxQrcodeBox").show()});$(".wxIcon").mouseleave(function(){$(".wxQrcodeBox").hide()});$(".searchBtn").click(function(){var t=$(".searchInput").val();window.location.href="/helpCenter/problem?search_content="+t})};return t}();var problem=function(){var t={};var e="";var a="";var n="";var i="";var d=function t(e,a,n){history.replaceState(null,"","/helpCenter/problem?first_id="+e+"&second_id="+a+"&document_id="+n)};var o=function t(e,a,n){window.location.href="/helpCenter/problem?first_id="+e+"&second_id="+a+"&document_id="+n};var c=function t(e,a,n){$(".documentVideo").hide();$(".loadingPartial").fadeIn(100);var i={first_id:e,second_id:a,document_id:n};console.log(i);$.post("/helpCenter/document_detail_page",i,function(t){if(t.code==0){$(".ptcList").html("");if(n==""){$(".documentPart").hide();$(".ptcTitle").text(t.data.second_index.title);for(var e=0;e<t.data.document_list.length;e++){$(".ptcList").append("<div class='ptcPart' data-documentid='"+t.data.document_list[e].id+"'><span class='listCircle'>"+"</span>"+t.data.document_list[e].name+"</div>")}$(".problemThreeContent").fadeIn(200)}else{$(".problemThreeContent").hide();$(".documentHeader").html("<div class='problemSecondSkip'>"+t.data.second_index.title+"</div>&nbsp;&nbsp;/&nbsp;&nbsp;详情");$(".documentTitle").html(t.data.document_detail.name);$(".documentTime").html(t.data.document_detail.updated_at);$(".documentContent").html(t.data.document_detail.org_content);if(t.data.document_detail.video_url!=""){$(".videoSource").attr("src",t.data.document_detail.video_url);$("#example_video_1_html5_api").attr("src",t.data.document_detail.video_url);$(".documentVideo").show()}$(".documentPart").fadeIn(200)}$(".loadingPartial").hide()}})};t.init=function(){e=$("#nowFirstId").val();a=$("#nowSecondId").val();n=$("#nowDocumentId").val();i=$("#nowSearchContent").val();$(".searchInput").val(i);if(i!=""){$(".loadingPartial").fadeIn(100);$.post("/helpCenter/search",{search_content:i},function(t){if(t.code==0){$(".documentPart").hide();$(".ptcTitle").html('<span style="font-size:12px">搜索“'+'<span style="color:red">'+i+"</span>"+"”的相关结果共"+t.data.length+"条</span>");if(t.data.length==0){}else{for(var e=0;e<t.data.length;e++){$(".ptcList").append("<div class='ptcPart1' data-documentid='"+t.data[e].id+"' data-firstindex='"+t.data[e].first_index+"' data-secondindex='"+t.data[e].second_index+"'><span class='listCircle'>"+"</span><span class='ptcPart1Title'>"+t.data[e].name+"</span></div>");if(e==t.data.length-1){$(".ptcPart1Title").each(function(){var t=$(this).text();var e=i.split("");for(var a=0;a<e.length;a++){if(t.indexOf(e[a])>-1){var n=new RegExp(e[a],"g");t=t.replace(n,"<span style='color:#F00'>"+e[a]+"</span>");$(this).html(t)}}})}}}$(".loadingPartial").fadeOut(100);$(".problemThreeContent").fadeIn(200)}})}else{c(e,a,n)}$(".problemNavOne").click(function(){if($(this).next().css("display")=="none"){$(this).next().slideDown(300);$(this).addClass("problemNavOneActive")}else if($(this).next().css("display")=="block"){$(this).next().slideUp(300);$(this).removeClass("problemNavOneActive")}});$(".problemNavTwoPart").click(function(){$(".problemNavTwoPart").removeClass("problemNavTwoPartActive");$(this).addClass("problemNavTwoPartActive");e=$(this).data("firstid");a=$(this).data("secondid");c(e,a,"");d(e,a,"")});$("body").on("click",".ptcPart",function(){n=$(this).data("documentid");c(e,a,n);d(e,a,n)});$("body").on("click",".ptcPart1",function(){var t=$(this).data("documentid");var e=$(this).data("firstindex");var a=$(this).data("secondindex");o(e,a,t)});$("body").on("click",".problemSecondSkip",function(){c(e,a,"")})};return t}();