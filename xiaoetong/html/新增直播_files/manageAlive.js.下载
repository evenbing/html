$(function(){manageAlive.init()});var manageAlive=function(){var e={};var a;function r(e){if($formCheck.emptyString(e.title)){baseUtils.show.redTip("直播名称不能为空！");return false}if($formCheck.emptyString(e.summary)){baseUtils.show.redTip("直播简介不能为空！");return false}if(e.alive_type==1&&fileId==null){baseUtils.show.redTip("请上传直播资源！");return false}if(is_edit){baseUtils.show.redTip("直播资源上传中！");return false}if($formCheck.emptyString(e.img_url)){baseUtils.show.redTip("请上传您的直播封面！");return false}if($formCheck.emptyString(e.start_at)){baseUtils.show.redTip("请填入您的直播上架时间！");return false}if($formCheck.emptyString(e.zb_start_at)){baseUtils.show.redTip("请填入您的直播开始时间！");return false}if($formCheck.emptyString(e.zb_stop_at)){baseUtils.show.redTip("请填入您的直播结束时间！");return false}if(!$formCheck.checkTime(e.start_at)){baseUtils.show.redTip("直播上架时间错误");return false}if(!$formCheck.checkTime(e.zb_start_at)){baseUtils.show.redTip("直播开始时间错误");return false}if(uploadChannelType==1&&e.payment_type==2&&$formCheck.emptyString(e.piece_price)){baseUtils.show.redTip("您选择的付费形式为付费，请输入价格！");return false}if(uploadChannelType==1&&e.payment_type==2&&!$formCheck.checkNum(e.piece_price)){baseUtils.show.redTip("您的价格输入格式有误，请重新输入！");return false}if(uploadChannelType==1&&e.payment_type==2&&e.piece_price>baseUtils.maxInputPrice*100){baseUtils.show.redTip("价格不能大于 "+baseUtils.maxInputPrice+" 元");return false}if(uploadChannelType==1&&e.payment_type==1&&e.have_password===1&&$formCheck.emptyString(e.resource_password)){baseUtils.show.redTip("您选择的付费形式为加密，请设置密码！");return false}return true}function t(e,a){showLoading();$.ajax(e,{type:"POST",dataType:"json",data:a,success:function e(a){hideLoading();if(parseInt(a.code)===0){var r=$("#_manageAlive").val();if(r==0){baseUtils.show.blueTip("创建成功，您可继续完成嘉宾（原讲师）设置");sessionStorage.setItem("inviteGuestAliveId",a.alive_id)}else{baseUtils.show.blueTip("保存成功")}setTimeout(function(){window.location.href=backURL},1500)}else{hideLoading();baseUtils.show.redTip(a.msg);submitLimt=false}},error:function e(a,r,t){hideLoading();console.error(t);baseUtils.show.redTip("网络错误，请稍后再试！");submitLimt=false}})}classArray=[];e.init=function(){aliveTimeConfig("#zb_start_at");$(".completeBtn").click(function(){var e=$.trim($(".resName").val());var a=$.trim($("#aliveAbstract").val());var i=aliveT;var s=fileId;var l=$.trim($("#zb_start_at").val());var n=$("#_aliveDuration").val();var o=videoGsize;var p=$.trim($("#Image1Url").val());var c=$.trim($("#Image3Url").val());var u=UE.getEditor("resource_desc");var f=u.getContent();f=f.replace(/&quot;/gi,"'");var m=u.getPlainTxt();if(m.length==0){baseUtils.show.redTip("描述不能为空!");return false}var d=$.trim($(".resPrize").val())*100;var h=$("#rBtn3").is(":checked")?1:0;var _=$.trim($("#set_password").val());$('input[name="aliveClass"]:checked').each(function(){classArray.push($(this).attr("id"))});console.log(classArray);var v=aliveState;var y=$.trim($("#dateInput").val());var b={title:e,summary:a,alive_type:i,img_url:p,alive_img_url:c,file_name:VideoName,zb_start_at:l,zb_stop_at:n,descrb:m,org_content:f,piece_price:d,state:v,start_at:y,have_password:h,resource_password:_,id:GetQueryString("id")||null};var g={public_video:s,public_size_text:o};if(resourceFree){b.payment_type=resourceFree}b.if_push=if_push;if(if_push==0||if_push==1){b.push_ahead=push_ahead}if(r(b)){var T={params:b,resource_type:resourceType,upload_channel_type:uploadChannelType,package_id:packageId,resource_params:g,package_name:packageName,category_type:classArray};t(golbalUrl,T);console.log(T)}else{return false}})};return e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZUFsaXZlLmpzIl0sIm5hbWVzIjpbIiQiLCJtYW5hZ2VBbGl2ZSIsImluaXQiLCJyZXNVcmwiLCJjaGVja0FsaXZlRm9ybSIsImluZm8iLCIkZm9ybUNoZWNrIiwiZW1wdHlTdHJpbmciLCJ0aXRsZSIsImJhc2VVdGlscyIsInNob3ciLCJyZWRUaXAiLCJzdW1tYXJ5IiwiYWxpdmVfdHlwZSIsImZpbGVJZCIsImlzX2VkaXQiLCJpbWdfdXJsIiwic3RhcnRfYXQiLCJ6Yl9zdGFydF9hdCIsInpiX3N0b3BfYXQiLCJjaGVja1RpbWUiLCJ1cGxvYWRDaGFubmVsVHlwZSIsImNoZWNrTnVtIiwibWF4SW5wdXRQcmljZSIsInJlc291cmNlX3Bhc3N3b3JkIiwic2hvd0xvYWRpbmciLCJ0eXBlIiwiZGF0YVR5cGUiLCJkYXRhIiwiYWxsUGFyYW1zIiwic3VjY2VzcyIsImhpZGVMb2FkaW5nIiwicGFyc2VJbnQiLCJwYWdlVHlwZSIsInZhbCIsImJsdWVUaXAiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJhbGl2ZV9pZCIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJiYWNrVVJMIiwic3VibWl0TGltdCIsIm1zZyIsImNvbnNvbGUiLCJlcnIiLCJhbGl2ZVRpbWVDb25maWciLCJjbGljayIsInRyaW0iLCJhbGl2ZVR5cGUiLCJhbGl2ZVQiLCJBbGl2ZUZpbGVJZCIsInpiU3RhcnRBdCIsImFsaXZlRHVyYXRpb24iLCJBbGl2ZVNpemUiLCJ2aWRlb0dzaXplIiwiaW1hZ2UxVXJsIiwiaW1hZ2UzVXJsIiwib3JnQ29udGVudCIsInVlIiwiZ2V0Q29udGVudCIsImRlc2NyaWIiLCJnZXRQbGFpblR4dCIsImxlbmd0aCIsInJlc1ByaXplIiwiaGF2ZV9wYXNzd29yZCIsImlzIiwiZWFjaCIsImNsYXNzQXJyYXkiLCJ0aGlzIiwiYXR0ciIsImxvZyIsInN0YXJ0QXQiLCJhbGl2ZV9pbWdfdXJsIiwiZmlsZV9uYW1lIiwiVmlkZW9OYW1lIiwiZGVzY3JiIiwib3JnX2NvbnRlbnQiLCJwaWVjZV9wcmljZSIsInN0YXRlIiwiaWQiLCJHZXRRdWVyeVN0cmluZyIsInB1YmxpY192aWRlbyIsInB1YmxpY19zaXplX3RleHQiLCJyZXNvdXJjZUZyZWUiLCJyZXNJbmZvIiwicGF5bWVudF90eXBlIiwiaWZfcHVzaCIsInB1c2hfYWhlYWQiLCJyZXNvdXJjZV90eXBlIiwicmVzb3VyY2VUeXBlIiwidXBsb2FkX2NoYW5uZWxfdHlwZSIsInBhY2thZ2VfaWQiLCJyZXNvdXJjZV9wYXJhbXMiLCJwYWNrYWdlX25hbWUiLCJwYWNrYWdlTmFtZSIsImNhdGVnb3J5X3R5cGUiLCJyZXNvdXJjZVBhcmFtcyIsInN1Ym1pdEZvcm0iLCJnb2xiYWxVcmwiXSwibWFwcGluZ3MiOiJBQUlBQSxFQUFFLFdBQ0VDLFlBQVlDLFFBRWhCLElBQUlELGFBQWMsV0FDZCxHQUFJQSxLQUVKLElBQUlFLEVBR0osU0FBU0MsR0FBZUMsR0FDcEIsR0FBSUMsV0FBV0MsWUFBWUYsRUFBS0csT0FBUSxDQUNwQ0MsVUFBVUMsS0FBS0MsT0FBTyxZQUN0QixPQUFPLE9BRVgsR0FBSUwsV0FBV0MsWUFBWUYsRUFBS08sU0FBVSxDQUN0Q0gsVUFBVUMsS0FBS0MsT0FBTyxZQUN0QixPQUFPLE9BRVgsR0FBSU4sRUFBS1EsWUFBTCxHQUFBQyxRQUFxQkEsS0FBekIsQ0FDSUwsVUFBVUMsS0FBS0MsT0FBTyxXQUN0QixPQUFPLE9BRVgsR0FBSUksUUFBUyxDQUNUTixVQUFVQyxLQUFLQyxPQUFPLFdBQ3RCLE9BQU8sT0FFWCxHQUFJTCxXQUFXQyxZQUFZRixFQUFLVyxTQUFVLENBQ3RDUCxVQUFVQyxLQUFLQyxPQUFPLGFBQ3RCLE9BQU8sT0FFWCxHQUFJTCxXQUFXQyxZQUFZRixFQUFLWSxVQUFXLENBQ3ZDUixVQUFVQyxLQUFLQyxPQUFPLGVBQ3RCLE9BQU8sT0FFWCxHQUFJTCxXQUFXQyxZQUFZRixFQUFLYSxhQUFjLENBQzFDVCxVQUFVQyxLQUFLQyxPQUFPLGVBQ3RC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RSxHQUFBLFlBQUEsRUFBQSxDQUdBLElBQUE1QyxHQUFBeEIsRUFBQWtELEtBQUFsRCxFQUFBLGlCQUFBa0MsTUFHQ2xDLEdBRkQsb0NBQUFxRSxLQUFBLFdBR0F2QixXQUFZd0IsS0FBQUEsRUFBWkMsTUFBQUMsS0FBQSxRQUVBMUIsU0FBQTJCLElBQUFILFdBR0EsSUFBSUksR0FBQUEsVUFFSixJQUFBQSxHQUFBMUUsRUFBQWtELEtBQUFsRCxFQUFBLGNBQUFrQyxNQUdJMUIsSUFBQUEsSUFFQUksTUFBQUEsRUFFQUMsUUFBQUEsRUFFQUcsV0FBUzBDLEVBRVRpQixRQUFBQSxFQUVBQyxjQUFXQyxFQUVYM0QsVUFBQUEsVUFFQUMsWUFBV29DLEVBRVh1QixXQUFRZixFQUVSZ0IsT0FBQUEsRUFFQUMsWUFBYWQsRUFFYmUsWUF4QlVmLEVBMEJWakQsTUFBQUEsRUFFQWtELFNBQUFBLEVBRUEzQyxjQUFBQSxFQUVBMEQsa0JBQW1CMUQsRUFFdkIwRCxHQUFBQyxlQUFBLE9BQUEsS0FHSUMsSUFBQUEsSUFFQUMsYUFBQUEsRUFHSkEsaUJBQWlCN0IsRUFBakIsSUFBRzhCLGFBQWMsQ0FJakJDLEVBQUFDLGFBQUFGLGFBSUNDLEVBQUFFLFFBQUFBLE9BRkQsSUFBR0EsU0FBUyxHQUFLQSxTQUFTLEVBQUUsQ0FJNUJGLEVBQUFHLFdBQUFBLFdBSVFDLEdBQUFBLEVBQUFBLEdBQWVDLENBQ2ZDLEdBQUFBLElBQ0FDLE9BQUFBLEVBQ0FDLGNBQUFBLGFBQ0FDLG9CQUFjQyxrQkFDZEMsV0FBQUEsVUFQSkgsZ0JBQUFJLEVBU0FDLGFBQVdDLFlBQ1h2RCxjQUFZakIsV0FFWnVFLEdBQU9DLFVBQVB4RSxFQUNIaUIsU0FBQTJCLElBQUE1QyxPQWpJTCxDQU5KLE1BQUEsVUEySUEsT0FBTzVCIiwiZmlsZSI6Im1hbmFnZUFsaXZlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGpzZXJrIG9uIDIwMTcvMy8yMy5cbiAqL1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICBtYW5hZ2VBbGl2ZS5pbml0KCk7XG59KTtcbnZhciBtYW5hZ2VBbGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFuYWdlQWxpdmUgPSB7fTtcblxuICAgIHZhciByZXNVcmw7XG5cbiAgICAvL+ajgOafpeebtOaSreaPkOS6pOihqOWNlVxuICAgIGZ1bmN0aW9uIGNoZWNrQWxpdmVGb3JtKGluZm8pIHtcbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby50aXRsZSkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSreWQjeensOS4jeiDveS4uuepuu+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnN1bW1hcnkpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnm7Tmkq3nroDku4vkuI3og73kuLrnqbrvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8uYWxpdmVfdHlwZT09MSYmKGZpbGVJZCA9PSBudWxsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg55u05pKt6LWE5rqQ77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc19lZGl0KSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLnm7Tmkq3otYTmupDkuIrkvKDkuK3vvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5pbWdfdXJsKSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi6K+35LiK5Lyg5oKo55qE55u05pKt5bCB6Z2i77yBXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8uc3RhcnRfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTnm7Tmkq3kuIrmnrbml7bpl7TvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby56Yl9zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuivt+Whq+WFpeaCqOeahOebtOaSreW8gOWni+aXtumXtO+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZvcm1DaGVjay5lbXB0eVN0cmluZyhpbmZvLnpiX3N0b3BfYXQpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLor7floavlhaXmgqjnmoTnm7Tmkq3nu5PmnZ/ml7bpl7TvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkZm9ybUNoZWNrLmNoZWNrVGltZShpbmZvLnN0YXJ0X2F0KSkge1xuICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKFwi55u05pKt5LiK5p625pe26Ze06ZSZ6K+vXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJGZvcm1DaGVjay5jaGVja1RpbWUoaW5mby56Yl9zdGFydF9hdCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuebtOaSreW8gOWni+aXtumXtOmUmeivr1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBsb2FkQ2hhbm5lbFR5cGU9PTEgJiYgaW5mby5wYXltZW50X3R5cGUgPT0gMiAmJiAkZm9ybUNoZWNrLmVtcHR5U3RyaW5nKGluZm8ucGllY2VfcHJpY2UpKSB7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLmgqjpgInmi6nnmoTku5jotLnlvaLlvI/kuLrku5jotLnvvIzor7fovpPlhaXku7fmoLzvvIFcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwbG9hZENoYW5uZWxUeXBlPT0xICYmIGluZm8ucGF5bWVudF90eXBlID09IDIgJiYgISRmb3JtQ2hlY2suY2hlY2tOdW0oaW5mby5waWVjZV9wcmljZSkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOeahOS7t+agvOi+k+WFpeagvOW8j+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZih1cGxvYWRDaGFubmVsVHlwZT09IDEgJiYgaW5mby5wYXltZW50X3R5cGU9PSAyICYmIGluZm8ucGllY2VfcHJpY2UgPiBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSAqIDEwMCl7XG4gICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5yZWRUaXAoXCLku7fmoLzkuI3og73lpKfkuo4gXCIgKyBiYXNlVXRpbHMubWF4SW5wdXRQcmljZSArIFwiIOWFg1wiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBsb2FkQ2hhbm5lbFR5cGU9PTEgJiYgaW5mby5wYXltZW50X3R5cGUgPT0gMSAmJiBpbmZvLmhhdmVfcGFzc3dvcmQgPT09IDFcbiAgICAgICAgICAgICYmICRmb3JtQ2hlY2suZW1wdHlTdHJpbmcoaW5mby5yZXNvdXJjZV9wYXNzd29yZCkpIHtcbiAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChcIuaCqOmAieaLqeeahOS7mOi0ueW9ouW8j+S4uuWKoOWvhu+8jOivt+iuvue9ruWvhuegge+8gVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy/mj5DkuqTkv6Hmga9cbiAgICBmdW5jdGlvbiBzdWJtaXRGb3JtKHVybCwgYWxsUGFyYW1zKSB7XG4gICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICQuYWpheCh1cmwsIHtcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOmFsbFBhcmFtcyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChkYXRhLmNvZGUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWdlVHlwZSA9ICQoXCIjX21hbmFnZUFsaXZlXCIpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZVR5cGUgPT0gMCkgeyAgICAvL+aWsOWinuebtOaSrVxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cuYmx1ZVRpcChcIuWIm+W7uuaIkOWKn++8jOaCqOWPr+e7p+e7reWujOaIkOWYieWuvu+8iOWOn+iusuW4iO+8ieiuvue9rlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJpbnZpdGVHdWVzdEFsaXZlSWRcIiwgZGF0YS5hbGl2ZV9pZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXRpbHMuc2hvdy5ibHVlVGlwKFwi5L+d5a2Y5oiQ5YqfXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBiYWNrVVJMO1xuICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdExpbXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocixzdGF0dXMsZXJyKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgYmFzZVV0aWxzLnNob3cucmVkVGlwKCfnvZHnu5zplJnor6/vvIzor7fnqI3lkI7lho3or5XvvIEnKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRMaW10ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy/nva7nqbrliIbnsbvmlbDnu4RcbiAgICBjbGFzc0FycmF5PVtdO1xuXG4gICAgbWFuYWdlQWxpdmUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBhbGl2ZVRpbWVDb25maWcoXCIjemJfc3RhcnRfYXRcIik7XG4gICAgICAgIC8vIGFsaXZlVGltZUNvbmZpZyhcIiN6Yl9zdG9wX2F0XCIpO1xuXG4gICAgICAgIC8vIOaPkOS6pOebtOaSreihqOWNlVxuICAgICAgICAkKFwiLmNvbXBsZXRlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy/ojrflj5bnm7Tmkq3ooajljZXmlbDmja5cbiAgICAgICAgICAgIC8v55u05pKt5ZCN56ewXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkLnRyaW0oJChcIi5yZXNOYW1lXCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3nroDku4tcbiAgICAgICAgICAgIHZhciBzdW1tYXJ5PSQudHJpbSgkKFwiI2FsaXZlQWJzdHJhY3RcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+ebtOaSreexu+Wei1xuICAgICAgICAgICAgdmFyIGFsaXZlVHlwZT1hbGl2ZVQ7XG5cbiAgICAgICAgICAgIC8v55u05pKt54K55pKtaWRcbiAgICAgICAgICAgIHZhciBBbGl2ZUZpbGVJZCA9IGZpbGVJZDtcblxuICAgICAgICAgICAgLy/nm7Tmkq3lvIDlp4vml7bpl7RcbiAgICAgICAgICAgIHZhciB6YlN0YXJ0QXQgPSAkLnRyaW0oJChcIiN6Yl9zdGFydF9hdFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt5pe26ZW/XG4gICAgICAgICAgICB2YXIgYWxpdmVEdXJhdGlvbiA9ICQoXCIjX2FsaXZlRHVyYXRpb25cIikudmFsKCk7XG5cbiAgICAgICAgICAgIC8v55u05pKt5aSn5bCPXG4gICAgICAgICAgICB2YXIgQWxpdmVTaXplID0gdmlkZW9Hc2l6ZTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3lsIHpnaLlnLDlnYBcbiAgICAgICAgICAgIHZhciBpbWFnZTFVcmwgPSAkLnRyaW0oJChcIiNJbWFnZTFVcmxcIikudmFsKCkpO1xuXG4gICAgICAgICAgICAvL+ebtOaSrei0tOeJh+WcsOWdgFxuICAgICAgICAgICAgdmFyIGltYWdlM1VybCA9ICQudHJpbSgkKFwiI0ltYWdlM1VybFwiKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt5Y6f5aeL5YaF5a656K+m5oOFXG4gICAgICAgICAgICB2YXIgdWUgPSBVRS5nZXRFZGl0b3IoJ3Jlc291cmNlX2Rlc2MnKTtcbiAgICAgICAgICAgIHZhciBvcmdDb250ZW50ID0gdWUuZ2V0Q29udGVudCgpO1xuICAgICAgICAgICAgb3JnQ29udGVudCA9IG9yZ0NvbnRlbnQucmVwbGFjZSggLyZxdW90Oy9naSwgXCInXCIgKTtcbiAgICAgICAgICAgIC8v55u05pKt5YaF5a655o+P6L+wXG4gICAgICAgICAgICB2YXIgZGVzY3JpYiA9IHVlLmdldFBsYWluVHh0KCk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpYi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGJhc2VVdGlscy5zaG93LnJlZFRpcCgn5o+P6L+w5LiN6IO95Li656m6IScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/ku5jotLnku7fmoLxcbiAgICAgICAgICAgIHZhciByZXNQcml6ZSA9ICQudHJpbSgkKFwiLnJlc1ByaXplXCIpLnZhbCgpKSAqIDEwMDtcblxuICAgICAgICAgICAgLy8g5piv5ZCm6K6+572u5a+G56CBXG4gICAgICAgICAgICB2YXIgaGF2ZV9wYXNzd29yZCA9ICQoJyNyQnRuMycpLmlzKCc6Y2hlY2tlZCcpID8gMSA6IDA7XG5cbiAgICAgICAgICAgIC8vIOWvhueggVxuICAgICAgICAgICAgdmFyIHJlc291cmNlX3Bhc3N3b3JkID0gJC50cmltKCQoJyNzZXRfcGFzc3dvcmQnKS52YWwoKSk7XG5cbiAgICAgICAgICAgIC8v55u05pKt6YCJ5oup5YiG57G7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWxpdmVDbGFzc1wiXTpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNsYXNzQXJyYXkucHVzaCgkKHRoaXMpLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjbGFzc0FycmF5KTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3nirbmgIFcbiAgICAgICAgICAgIHZhciBzdGF0ZT1hbGl2ZVN0YXRlO1xuICAgICAgICAgICAgLy/kuIrmnrbml7bpl7RcbiAgICAgICAgICAgIHZhciBzdGFydEF0ID0gJC50cmltKCQoXCIjZGF0ZUlucHV0XCIpLnZhbCgpKTtcblxuICAgICAgICAgICAgLy/nm7Tmkq3ljZXlk4HkuIrkvKDkv6Hmga9cbiAgICAgICAgICAgIHZhciByZXNJbmZvID0ge1xuICAgICAgICAgICAgICAgIC8vIOebtOaSreWQjeensFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreeugOS7i1xuICAgICAgICAgICAgICAgIHN1bW1hcnk6c3VtbWFyeSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreexu+Wei1xuICAgICAgICAgICAgICAgIGFsaXZlX3R5cGU6YWxpdmVUeXBlLFxuICAgICAgICAgICAgICAgIC8vICAg55u05pKt5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICAgICAgaW1nX3VybDogaW1hZ2UxVXJsLFxuICAgICAgICAgICAgICAgIC8v55u05pKt5a6j5Lyg5bCB6Z2i5Zyw5Z2AXG4gICAgICAgICAgICAgICAgYWxpdmVfaW1nX3VybDogaW1hZ2UzVXJsLFxuICAgICAgICAgICAgICAgIC8v6KeG6aKR5ZCN56ewXG4gICAgICAgICAgICAgICAgZmlsZV9uYW1lOiBWaWRlb05hbWUsXG4gICAgICAgICAgICAgICAgLy/nm7Tmkq3lvIDlp4vml7bpl7RcbiAgICAgICAgICAgICAgICB6Yl9zdGFydF9hdDp6YlN0YXJ0QXQsXG4gICAgICAgICAgICAgICAgLy/nm7Tmkq3nu5PmnZ/ml7bpl7RcbiAgICAgICAgICAgICAgICB6Yl9zdG9wX2F0OmFsaXZlRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgLy/nm7Tmkq3or6bmg4VcbiAgICAgICAgICAgICAgICBkZXNjcmI6IGRlc2NyaWIsXG4gICAgICAgICAgICAgICAgLy/ljp/lp4vmlofmnKxcbiAgICAgICAgICAgICAgICBvcmdfY29udGVudDogb3JnQ29udGVudCxcbiAgICAgICAgICAgICAgICAvL+S7mOi0ueS7t+agvFxuICAgICAgICAgICAgICAgIHBpZWNlX3ByaWNlOiByZXNQcml6ZSxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreeKtuaAgVxuICAgICAgICAgICAgICAgIHN0YXRlOnN0YXRlLFxuICAgICAgICAgICAgICAgIC8v5LiK5p625pe26Ze0XG4gICAgICAgICAgICAgICAgc3RhcnRfYXQ6IHN0YXJ0QXQsXG4gICAgICAgICAgICAgICAgLy8g5piv5ZCm6K6+572u5a+G56CBXG4gICAgICAgICAgICAgICAgaGF2ZV9wYXNzd29yZDogaGF2ZV9wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAvLyDlr4bnoIFcbiAgICAgICAgICAgICAgICByZXNvdXJjZV9wYXNzd29yZDogcmVzb3VyY2VfcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgLy9pZFxuICAgICAgICAgICAgICAgIGlkOiBHZXRRdWVyeVN0cmluZygnaWQnKSB8fCBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy/nm7Tmkq3pop3lpJbkv6Hmga9cbiAgICAgICAgICAgIHZhciByZXNvdXJjZVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAvL+S6keeCueaSreebtOaSrWlkXG4gICAgICAgICAgICAgICAgcHVibGljX3ZpZGVvOiBBbGl2ZUZpbGVJZCxcbiAgICAgICAgICAgICAgICAvL+ebtOaSreWkp+Wwj1xuICAgICAgICAgICAgICAgIHB1YmxpY19zaXplX3RleHQ6IEFsaXZlU2l6ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/mmK/lkKbku5jotLnvvIgx6KGo56S65YWN6LS577yMMuihqOekuuWNleeslO+8iVxuICAgICAgICAgICAgaWYocmVzb3VyY2VGcmVlKSB7XG4gICAgICAgICAgICAgICAgcmVzSW5mby5wYXltZW50X3R5cGUgPSByZXNvdXJjZUZyZWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8v55u05pKt5o+Q6YaSXG4gICAgICAgICAgICByZXNJbmZvLmlmX3B1c2ggPSBpZl9wdXNoO1xuICAgICAgICAgICAgaWYoaWZfcHVzaD09MCB8fCBpZl9wdXNoPT0xKXtcbiAgICAgICAgICAgICAgICByZXNJbmZvLnB1c2hfYWhlYWQgPSBwdXNoX2FoZWFkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL+iOt+WPluihqOWNleS4reeahOaVsOaNrlxuICAgICAgICAgICAgaWYgKGNoZWNrQWxpdmVGb3JtKHJlc0luZm8pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsbFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiByZXNJbmZvLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZV90eXBlOiByZXNvdXJjZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZF9jaGFubmVsX3R5cGU6IHVwbG9hZENoYW5uZWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlX2lkOiBwYWNrYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3BhcmFtczogcmVzb3VyY2VQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHBhY2thZ2VfbmFtZTogcGFja2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5X3R5cGU6Y2xhc3NBcnJheVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc3VibWl0Rm9ybShnb2xiYWxVcmwsIGFsbFBhcmFtcyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWxsUGFyYW1zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBtYW5hZ2VBbGl2ZTtcbn0oKTtcbiJdfQ==
