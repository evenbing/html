(function(n){n.alert=n.alert||{};n.alert=function(a,t,e){var o=n.alert.btnEnum;var i=n.alert.eventEnum;var r={info:{title:"提示",icon:"blue",btn:o.okcancel},error:{title:"错误",icon:"red",btn:o.cancel},success:{title:"成功",icon:"green",btn:o.ok},custom:{title:"",icon:"",btn:3}};var c=t?t instanceof Object?t:r[t]||{}:{};var l=n.extend(true,{title:"提示",icon:"blue",btn:3,link:"",href:"",onOk:n.noop,onCancel:n.noop,onClose:n.noop},c,e);var d=l.icon;var s=n("<a>").html(l.link).prop("href",l.href);var p=n("<p>").html(a);if(l.link.length>0){p.append(s)}var v=l.btn;var u=M();var f=n("<div>").addClass("_xcConfirm");var C=n("<div>").addClass("_popBox");var k=n("<div>").addClass("_ttBox");var m=n("<div>").addClass("_iconContent");var b=d?n("<img>").attr({src:"/images/alert/"+d+"_info_prompt.svg",width:"60px"}):"";var h=n("<p>").addClass("title").text(l.title);var x=n("<div>").addClass("_txtBox");var _=n("<div>").addClass("btnArea");var g=n("<a>").addClass("_sgBtn").addClass("_ok").text(l.oktext||"确定");var w=n("<a>").addClass("_sgBtn").addClass("_cancel").text(l.canceltext||"取消");var y=n("<input>").addClass("inputBox");var B=n("<a>").addClass("_clsBtn");var E={cancel:w,ok:g};O();function O(){T();var n=f.find("._popBox");n.css("margin-top",-(n.height()/1.5));f.css("opacity",1);j()}function T(){C.append(B).append(m.append(b).append(h)).append(x.append(p)).append(_.append(I(v)));f.attr("id",u).append(C);n("body").append(f)}function j(){g.click(z);n(window).bind("keydown",function(a){if(a.keyCode==13){if(n("#"+u).length==1){z()}}});w.click(A);B.click(D)}function z(){var a=n(this);var t=n.trim(y.val());if(y.is(":visible"))l.onOk(t);else l.onOk();G(u);l.onClose(i.ok)}function A(){var a=n(this);l.onCancel();G(u);l.onClose(i.cancel)}function D(){G(u);l.onClose(i.close);n(window).unbind("keydown")}function G(a){n("#"+a).on("transitionend webkitTransitionEnd mozTransitionEnd",function(){n(this).remove()}).css("opacity",0)}function I(a){var t=n("<div>").addClass("btnGroup");n.each(E,function(n,e){if(o[n]==(a&o[n])){t.append(e)}});return t}function M(){var a="pop_"+(new Date).getTime()+parseInt(Math.random()*1e5);if(n("#"+a).length>0){return M()}else{return a}}};n.alert.btnEnum={ok:2,cancel:1,okcancel:3};n.alert.eventEnum={ok:1,cancel:2,close:3};n.alert.typeEnum={info:"info",error:"error",custom:"custom"}})(jQuery);