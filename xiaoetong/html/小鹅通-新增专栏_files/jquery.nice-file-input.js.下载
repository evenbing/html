(function(){var t=navigator.userAgent.match(/Firefox\/(.*)$/);var e;var i=4.3;if(t&&t.length>1){e=t[1]}$.fn.niceFileInput=function(t){var n=$.extend({width:"500",height:"40",btnText:"Browse",btnWidth:"60",margin:"20"},t);for(var o=150;o<=n.width;o+=5){i=i+.715}this.css({height:n.height,width:n.btnWidth,zIndex:"99",opacity:"0",position:"absolute",right:"0",left:"0",top:"0","font-size":"16px"}).wrap('<div class="fileWrapper" />').parent().css({width:n.width}).append("<input type='button' class='fileInputButton' value='"+n.btnText+"' style='float: left;height:"+n.height+"px ; width:"+n.btnWidth+"px;background-color: white' />").append("<div class='name-progress' style='display: block;border-radius: 4px;border: 0px solid #ccc;float: left;width: 500px;height: 34px'>"+"<input type='text' class='fileInputText' readonly='readonly' style='background: none;border: none;width: 500px;height: 34px;margin-top: 0px' />"+"<div class='progress' style='display: none;margin-left: 0px;width: 50%;height: 10px;vertical-align: top;margin-top: 12px;'>"+"<div id='progress_audio' class='progress-bar progress-bar-striped' role='progressbar' aria-valuenow='0' aria-valuemin='0' aria-valuemax='100' style='width: 0%;'></div>"+"</div>"+"<button class='progress-state' style='display:none;line-height:34px;margin-left: 1%;height: 34px;border: none;padding: 0;background: none;color: blue;outline: none'>上传中</button>"+"</div>");$(".fileInputText").css("border-radius","4px");$(".fileInputButton").css({"border-radius":"4px",border:"1px solid #ccc"});$("#public_audio").mouseover(function(){$(".fileInputButton").css({"background-color":"#e6e6e6","border-color":"#adadad",color:"#000"})}).mouseout(function(){$(".fileInputButton").css("background-color","white");$(".fileInputButton").css("color","black")});if(e<22){this.attr("size",i)}this.parent().find('input[type="text"].fileInputText').css({height:"34px",width:function t(){return n.width-n.btnWidth-n.margin+"px"},"line-height":"34px"});$(this).change(function(){})};return this})();