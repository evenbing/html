(function(n){window.wxc=window.wxc||{};window.wxc.xcConfirm=function(o,a,t){var e=window.wxc.xcConfirm.btnEnum;var i=window.wxc.xcConfirm.eventEnum;var c={info:{title:"信息",icon:"0 0",btn:e.ok},success:{title:"成功",icon:"0 -48px",btn:e.ok},error:{title:"错误",icon:"-48px -48px",btn:e.ok},confirm:{title:"提示",icon:"-48px 0",btn:e.okcancel},warning:{title:"警告",icon:"0 -96px",btn:e.okcancel},input:{title:"输入",icon:"",btn:e.ok},custom:{title:"",icon:"",btn:e.ok}};var d=a?a instanceof Object?a:c[a]||{}:{};var r=n.extend(true,{title:"",icon:"",btn:e.ok,onOk:n.noop,onCancel:n.noop,onClose:n.noop},d,t);var s=n("<p>").html(o);var l=n("<span>").addClass("tt").text(r.title);var p=r.icon;var v=p?n("<div>").addClass("bigIcon").css("backgroundPosition",p):"";var u=r.btn;var w=M();var f=n("<div>").addClass("xcConfirm");var x=n("<div>").addClass("xc_layer");var C=n("<div>").addClass("popBox");var k=n("<div>").addClass("ttBox");var m=n("<div>").addClass("txtBox");var b=n("<div>").addClass("btnArea");var g=n("<a>").addClass("sgBtn").addClass("ok").text(r.oktext||"确定");var h=n("<a>").addClass("sgBtn").addClass("cancel").text(r.canceltext||"取消");var y=n("<input>").addClass("inputBox");var B=n("<a>").addClass("clsBtn");var E={ok:g,cancel:h};I();function I(){if(c["input"]===d){s.append(y)}O();j()}function O(){C.append(k.append(B).append(l)).append(m.append(v).append(s)).append(b.append(G(u)));f.attr("id",w).append(x).append(C);n("body").append(f)}function j(){g.click(_);n(window).bind("keydown",function(o){if(o.keyCode==13){if(n("#"+w).length==1){_()}}});h.click(A);B.click(D)}function _(){var o=n(this);var a=n.trim(y.val());if(y.is(":visible"))r.onOk(a);else r.onOk();n("#"+w).remove();r.onClose(i.ok)}function A(){var o=n(this);r.onCancel();n("#"+w).remove();r.onClose(i.cancel)}function D(){n("#"+w).remove();r.onClose(i.close);n(window).unbind("keydown")}function G(o){var a=n("<div>").addClass("btnGroup");n.each(E,function(n,t){if(e[n]==(o&e[n])){a.append(t)}});return a}function M(){var o="pop_"+(new Date).getTime()+parseInt(Math.random()*1e5);if(n("#"+o).length>0){return M()}else{return o}}};window.wxc.xcConfirm.btnEnum={ok:parseInt("0001",2),cancel:parseInt("0010",2),okcancel:parseInt("0011",2)};window.wxc.xcConfirm.eventEnum={ok:1,cancel:2,close:3};window.wxc.xcConfirm.typeEnum={info:"info",success:"success",error:"error",confirm:"confirm",warning:"warning",input:"input",custom:"custom"}})(jQuery);