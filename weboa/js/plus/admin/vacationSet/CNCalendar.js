!function(){function e(e){var t=j[e-N];return t[0]}function t(e){for(var t=j[e-N],r=t[0],n=t[3].toString(2),a=n.split(""),o=0;o<16-a.length;o++)a.unshift(0);for(var d=r?13:12,u=0,i=[],h=0;d>h;h++)0==a[h]?(u+=29,i.push(29)):(u+=30,i.push(30));return{yearDays:u,monthDays:i}}function r(e,r){for(var n=t(e),a=r>0?r:n.yearDays-Math.abs(r),o=n.monthDays,d=0,u=0,i=0;i<o.length;i++)if(d+=o[i],d>a){u=i,d-=o[i];break}return[e,u,a-d+1]}function n(e,t,n){var o=j[e-N],d=o[1],u=o[2],i=a(e,d-1,u,e,t,n);if(0==i)return[e,0,1];var h=i>0?e:e-1;return r(h,i)}function a(e,t,r,n,a,o){var d=new Date(e,t,r).getTime(),u=new Date(n,a,o).getTime();return(u-d)/864e5}function o(e,r,n){for(var a=t(e),o=a.monthDays,d=0,u=0;u<o.length&&r>u;u++)d+=o[u];return d+n-1}function u(e,t){var r=new Date(31556925974.7*(e-1890)+6e4*B[t]+Date.UTC(1890,0,5,16,2,31));return r.getUTCDate()}function i(e){for(var t={},r=0,n=0;24>n;n++){var a=u(e,n);n%2==0&&r++,t[F(r-1,a)]=z.solarTerm[n]}return t}function h(e){var t=e-1890+25;return z.zodiac[t%12]}function y(e){return z.heavenlyStems[e%10]+z.earthlyBranches[e%12]}function s(e,t){return t=t||0,y(e-1890+25+t)}function f(e,t,r){return r=r||0,y(12*(e-1890)+t+12+r)}function m(e,t,r){var n=Date.UTC(e,t,r)/864e5+29219+18;return y(n)}function D(e,t){var r=[31,c(e)?29:28,31,30,31,30,31,31,30,31,30,31];return r[t]}function c(e){return e%4==0&&e%100!=0||e%400==0}function l(e,t,r,n){var a=arguments.length,o=new Date;return e=a?parseInt(e,10):o.getFullYear(),t=a?parseInt(t-1,10):o.getMonth(),r=a?parseInt(r,10)||o.getDate():o.getDate(),(n?n:N+1)>e||e>Y?{error:100,msg:L[100]}:{year:e,month:t,day:r}}function v(t,r,n){var a=e(t);r=a>0&&r>a?parseInt(r)+1:r;var d=l(t,r,n);if(d.error)return d;var u=d.year,i=d.month,h=d.day,y=o(u,i,h),s=j[u-N],f=s[1],m=s[2],D=new Date(u,f-1,m).getTime()+864e5*y;return D=new Date(D),{year:D.getFullYear(),month:D.getMonth()+1,day:D.getDate()}}function g(r,a,o){var d=l(r,a,o,N);if(d.error)return d;var y=d.year,D=d.month,c=d.day;x.setCurrent(y);var v=x.get("term2")?x.get("term2"):x.set("term2",u(y,2)),g=x.get("termList")?x.get("termList"):x.set("termList",i(y)),w=u(y,2*D),k=D>1||1==D&&c>=v?y+1:y,p=c>=w?D+1:D,C=n(y,D,c),M=e(C[0]),T="";T=M>0&&M==C[1]?"闰"+z.monthCn[C[1]-1]+"月":M>0&&C[1]>M?z.monthCn[C[1]-1]+"月":z.monthCn[C[1]]+"月";var I="",b=t(C[0]).monthDays;I=C[1]==b.length-1&&C[2]==b[b.length-1]?Z.d0100:M>0&&C[1]>M?Z[F(C[1]-1,C[2])]:Z[F(C[1],C[2])];var L={zodiac:h(k),GanZhiYear:s(k),GanZhiMonth:f(y,p),GanZhiDay:m(y,D,c),worktime:G["y"+y]&&G["y"+y][F(D,c)]?G["y"+y][F(D,c)]:0,term:g[F(D,c)],lunarYear:C[0],lunarMonth:M>0&&M<C[1]+1?C[1]:C[1]+1,lunarDay:C[2],lunarMonthName:T,lunarDayName:z.dateCn[C[2]-1],lunarLeapMonth:M,solarFestival:U[F(D,c)],lunarFestival:I};return L}function w(e,t,r){var n=l(e,t);if(n.error)return n;for(var a=n.year,o=n.month,d=k(a,o+1,r),u=0;u<d.monthData.length;u++){var i=d.monthData[u],h=g(i.year,i.month,i.day);I(d.monthData[u],h)}return d}function k(e,t,r){var n=l(e,t);if(n.error)return n;var a,o,d,u=n.year,i=n.month,h=new Date(u,i,1),y={firstDay:h.getDay(),monthDays:D(u,i),monthData:[]};if(y.monthData=b(u,i+1,y.monthDays,1),y.firstDay!=r){var s=0>i-1?u-1:u,f=0>i-1?11:i-1;a=D(s,f),o=0==y.firstDay?b(s,f+1,7-r,a-7+1+r):b(s,f+1,y.firstDay-r,a-y.firstDay+1+r),y.monthData=o.concat(y.monthData)}if(y.rows=Math.ceil(y.monthData.length/7),7*y.rows-y.monthData.length>0){var m=i+1>11?u+1:u,c=i+1>11?0:i+1,v=7*y.rows-y.monthData.length;d=b(m,c+1,v,1),y.monthData=y.monthData.concat(d)}return y}function p(e,t,r,n){d=new Date(e,t,r),d.setHours(0,0,0);var a=n?d.getDay()||7:d.getDay();d.setDate(d.getDate()+4-a);var o=new Date(e,0,1),u=Math.ceil(((d-o)/864e5+1)/7);return u}function C(e,t,r){var n=7*(t-1),a=new Date(e,0,1),o=a.getTime()-24*(a.getDay()-r)*60*60*1e3,d=new Date(Math.ceil(24*n*60*60*1e3+o)),u=new Date(Math.ceil(24*(n+6)*60*60*1e3+o));return{year:e,month:d.getMonth()+1,week:t,beginDate:d,endDate:u}}function M(e,t,r,n){year=parseInt(e),week=parseInt(r),t=parseInt(t);var a,o=C(year,week,n).beginDate,d=o.getMonth(),u=o.getDate(),i=D(year,d),h=7>i-u+1,y=h&&d+1>11&&t-1!=d||8>u&&0==d,s=h&&d+1>11&&t-1==d||i-u==6&&11==d,f=y?year-1:year,m=s?year+1:year,c=8>u?d:d+1,l=7>i-u?d+2:d+1,v=1==week?p(f,11,31,n):week-1,g=week==p(year,11,31,n)?1:week+1;c=0==c?12:c,l=13==l?1:l;var w={weeks:{current:{year:year,month:t,week:week},prev:{year:f,month:c,week:v},next:{year:m,month:l,week:g}},weekData:[]};return h?(d+1>11&&t-1!=d?year-=1:d+1>11&&t-1==d&&(year=year),a=b(year,d+1,i-u+1,u),a=a.concat(b(m,l,7-i+u-1,1))):a=b(year,d+1,7,u),w.weekData=w.weekData.concat(a),1==a[6].month&&12==a[0].month&&(w.weeks.next.week=2),1==a[0].month&&a[0].day<8&&(w.weeks.prev.week=p(f,11,31,n)),w}function T(e){I(G,e)}var I=function(e,t){if(e&&t&&"object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},b=function(e,t,r,n){var a=[];if(n=n||0,1>r)return a;for(var o=n,d=0;r>d;d++)a.push({year:e,month:t,day:o,timestamp:new Date(e,t-1,o).getTime()/1e3}),o++;return a},L={100:"年份超过了可查询范围",101:"参数错误，请查阅文档"},S=null,x={current:"",setCurrent:function(e){this.current!=e&&(this.current=e,this.clear())},set:function(e,t){return S||(S={}),S[e]=t,S[e]},get:function(e){return S||(S={}),S[e]},clear:function(){S=null}},F=function(e,t){return e+=1,e=10>e?"0"+e:e,t=10>t?"0"+t:t,"d"+e+t},N=1890,Y=2100,z={heavenlyStems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],earthlyBranches:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],zodiac:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],monthCn:["正","二","三","四","五","六","七","八","九","十","十一","腊"],dateCn:["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十","卅一"]},G={};G.y2013={d0101:2,d0102:2,d0103:2,d0105:1,d0106:1,d0209:2,d0210:2,d0211:2,d0212:2,d0213:2,d0214:2,d0215:2,d0216:1,d0217:1,d0404:2,d0405:2,d0406:2,d0407:1,d0427:1,d0428:1,d0429:2,d0430:2,d0501:2,d0608:1,d0609:1,d0610:2,d0611:2,d0612:2,d0919:2,d0920:2,d0921:2,d0922:1,d0929:1,d1001:2,d1002:2,d1003:2,d1004:2,d1005:2,d1006:2,d1007:2,d1012:1},G.y2014={d0101:2,d0126:1,d0131:2,d0201:2,d0202:2,d0203:2,d0204:2,d0205:2,d0206:2,d0208:1,d0405:2,d0407:2,d0501:2,d0502:2,d0503:2,d0504:1,d0602:2,d0908:2,d0928:1,d1001:2,d1002:2,d1003:2,d1004:2,d1005:2,d1006:2,d1007:2,d1011:1};var U={d0101:"元旦",d0214:"情人节",d0308:"妇女节",d0312:"植树节",d0315:"消费者权益日",d0401:"愚人节",d0501:"劳动节",d0504:"青年节",d0601:"儿童节",d0801:"建军节",d0910:"教师节",d1001:"国庆节",d1224:"平安夜",d1225:"圣诞节"},Z={d0101:"春节",d0115:"元宵节",d0505:"端午节",d0707:"七夕",d0715:"中元节",d0815:"中秋节",d0909:"重阳节",d1208:"腊八",d1223:"小年",d0100:"除夕"},j=[[2,1,21,22184],[0,2,9,21936],[6,1,30,9656],[0,2,17,9584],[0,2,6,21168],[5,1,26,43344],[0,2,13,59728],[0,2,2,27296],[3,1,22,44368],[0,2,10,43856],[8,1,30,19304],[0,2,19,19168],[0,2,8,42352],[5,1,29,21096],[0,2,16,53856],[0,2,4,55632],[4,1,25,27304],[0,2,13,22176],[0,2,2,39632],[2,1,22,19176],[0,2,10,19168],[6,1,30,42200],[0,2,18,42192],[0,2,6,53840],[5,1,26,54568],[0,2,14,46400],[0,2,3,54944],[2,1,23,38608],[0,2,11,38320],[7,2,1,18872],[0,2,20,18800],[0,2,8,42160],[5,1,28,45656],[0,2,16,27216],[0,2,5,27968],[4,1,24,44456],[0,2,13,11104],[0,2,2,38256],[2,1,23,18808],[0,2,10,18800],[6,1,30,25776],[0,2,17,54432],[0,2,6,59984],[5,1,26,27976],[0,2,14,23248],[0,2,4,11104],[3,1,24,37744],[0,2,11,37600],[7,1,31,51560],[0,2,19,51536],[0,2,8,54432],[6,1,27,55888],[0,2,15,46416],[0,2,5,22176],[4,1,25,43736],[0,2,13,9680],[0,2,2,37584],[2,1,22,51544],[0,2,10,43344],[7,1,29,46248],[0,2,17,27808],[0,2,6,46416],[5,1,27,21928],[0,2,14,19872],[0,2,3,42416],[3,1,24,21176],[0,2,12,21168],[8,1,31,43344],[0,2,18,59728],[0,2,8,27296],[6,1,28,44368],[0,2,15,43856],[0,2,5,19296],[4,1,25,42352],[0,2,13,42352],[0,2,2,21088],[3,1,21,59696],[0,2,9,55632],[7,1,30,23208],[0,2,17,22176],[0,2,6,38608],[5,1,27,19176],[0,2,15,19152],[0,2,3,42192],[4,1,23,53864],[0,2,11,53840],[8,1,31,54568],[0,2,18,46400],[0,2,7,46752],[6,1,28,38608],[0,2,16,38320],[0,2,5,18864],[4,1,25,42168],[0,2,13,42160],[10,2,2,45656],[0,2,20,27216],[0,2,9,27968],[6,1,29,44448],[0,2,17,43872],[0,2,6,38256],[5,1,27,18808],[0,2,15,18800],[0,2,4,25776],[3,1,23,27216],[0,2,10,59984],[8,1,31,27432],[0,2,19,23232],[0,2,7,43872],[5,1,28,37736],[0,2,16,37600],[0,2,5,51552],[4,1,24,54440],[0,2,12,54432],[0,2,1,55888],[2,1,22,23208],[0,2,9,22176],[7,1,29,43736],[0,2,18,9680],[0,2,7,37584],[5,1,26,51544],[0,2,14,43344],[0,2,3,46240],[4,1,23,46416],[0,2,10,44368],[9,1,31,21928],[0,2,19,19360],[0,2,8,42416],[6,1,28,21176],[0,2,16,21168],[0,2,5,43312],[4,1,25,29864],[0,2,12,27296],[0,2,1,44368],[2,1,22,19880],[0,2,10,19296],[6,1,29,42352],[0,2,17,42208],[0,2,6,53856],[5,1,26,59696],[0,2,13,54576],[0,2,3,23200],[3,1,23,27472],[0,2,11,38608],[11,1,31,19176],[0,2,19,19152],[0,2,8,42192],[6,1,28,53848],[0,2,15,53840],[0,2,4,54560],[5,1,24,55968],[0,2,12,46496],[0,2,1,22224],[2,1,22,19160],[0,2,10,18864],[7,1,30,42168],[0,2,17,42160],[0,2,6,43600],[5,1,26,46376],[0,2,14,27936],[0,2,2,44448],[3,1,23,21936],[0,2,11,37744],[8,2,1,18808],[0,2,19,18800],[0,2,8,25776],[6,1,28,27216],[0,2,15,59984],[0,2,4,27424],[4,1,24,43872],[0,2,12,43744],[0,2,2,37600],[3,1,21,51568],[0,2,9,51552],[7,1,29,54440],[0,2,17,54432],[0,2,5,55888],[5,1,26,23208],[0,2,14,22176],[0,2,3,42704],[4,1,23,21224],[0,2,11,21200],[8,1,31,43352],[0,2,19,43344],[0,2,7,46240],[6,1,27,46416],[0,2,15,44368],[0,2,5,21920],[4,1,24,42448],[0,2,12,42416],[0,2,2,21168],[3,1,22,43320],[0,2,9,26928],[7,1,29,29336],[0,2,17,27296],[0,2,6,44368],[5,1,26,19880],[0,2,14,19296],[0,2,3,42352],[4,1,24,21104],[0,2,10,53856],[8,1,30,59696],[0,2,18,54560],[0,2,7,55968],[6,1,27,27472],[0,2,15,22224],[0,2,5,19168],[4,1,25,42216],[0,2,12,42192],[0,2,1,53584],[2,1,21,55592],[0,2,9,54560]],B=[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],W={solarToLunar:g,lunarToSolar:v,calendar:w,solarCalendar:k,weekCalendar:M,setWorktime:T,getSolarMonthDays:D,getWeekNo:p};"function"==typeof define?define(function(){return W}):"object"==typeof exports?module.exports=W:window.CNCalendar=W}();